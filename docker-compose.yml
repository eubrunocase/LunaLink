version: '3.8'

services:
  # Serviço do Banco de Dados PostgreSQL
  postgres-db:
    image: postgres:14 # Use a mesma versão principal do seu Postgres
    container_name: lunaLink_container
    environment:
      POSTGRES_USER: brunocase     # Usuário do banco
      POSTGRES_PASSWORD: root # Senha do banco
      POSTGRES_DB: LunaLink  # Nome do banco a ser criado
    ports:
      - "5432:5432" # Mapeia a porta do contêiner para a sua máquina local
    volumes:
      - ./postgres-data:/var/lib/postgresql/data # Persiste os dados fora do contêiner
      - ./dump.sql:/docker-entrypoint-initdb.d/init.sql # Script de inicialização

volumes:
  postgres-data: